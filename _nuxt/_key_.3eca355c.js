import{b as f,a as h,p as b,q as g,o as r,h as i,F as y,r as v,u as k,s as S,i as _,t as x,v as w,x as B,k as I}from"./entry.f5583fa6.js";import"./app.config.51735b61.js";const E=""+new URL("bubble.b5261579.png",import.meta.url).href,l=t=>(w("data-v-ed4c254a"),t=t(),B(),t),R=l(()=>_("img",{src:E,alt:"Bubble"},null,-1)),C=l(()=>_("h1",{class:"text-white text-center"},"Hello",-1)),L={class:"text-white text-center"},N=f({__name:"[key]",setup(t){const u=h(),p=b(),s=g([]),o=new WebSocket(`${u.public.WEBSOCKET_BASE_URL}/events`);let n=0;const d=()=>`${(.25+Math.random()/2)*100}vw`;return o.onmessage=function(a){const c=JSON.parse(a.data);c.action==="greet"&&(++n,(e=>{s.value.push({id:n,position:d(),user:c.data.user}),setTimeout(()=>s.value=s.value.filter(({id:m})=>m!==e),7e3)})(n))},o.onopen=a=>o.send(JSON.stringify({action:"auth",key:p.params.key})),(a,c)=>(r(),i("main",null,[(r(!0),i(y,null,v(k(s),e=>(r(),i("div",{key:e.id,class:"floating-bubble",style:S({left:e.position})},[R,C,_("h2",L,x(e.user),1)],4))),128))]))}});const F=I(N,[["__scopeId","data-v-ed4c254a"]]);export{F as default};
